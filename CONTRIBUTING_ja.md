# SqlApp2への貢献

SqlApp2への貢献に興味をお持ちいただき、ありがとうございます！このガイドは、私たちのWebベースSQLクエリツールへの貢献を始めるのに役立ちます。

## 🤝 貢献方法

### バグ報告

バグ報告を作成する前に、重複を避けるため既存の課題を確認してください。バグ報告を作成する際は、以下を含めてください：

- **問題の明確な説明**
- **問題を再現する手順**
- **期待される動作** vs 実際の動作
- **環境詳細**（OS、Javaバージョン、ブラウザ）
- **スクリーンショット**またはエラーメッセージ（該当する場合）

### 機能拡張の提案

機能拡張の提案を歓迎します！以下を提供してください：

- **拡張機能の明確な説明**
- **ユースケース**または解決する問題
- **提案する解決策**（お持ちの場合）
- **追加のコンテキスト**または例

### プルリクエスト

1. リポジトリをフォーク
2. `main`から機能ブランチを作成
3. 変更を行う
4. 必要に応じてテストを追加または更新
5. すべてのテストが通ることを確認
6. 以下のコーディング標準に従う
7. 明確で説明的なメッセージでコミット
8. フォークにプッシュしてプルリクエストを送信

## 💻 開発セットアップ

### 前提条件

- Java 21以降
- Node.js 18以降
- Git

### ローカル開発

```bash
# フォークをクローン
git clone https://github.com/YOUR_USERNAME/sqlapp2.git
cd sqlapp2

# upstreamリモートを設定
git remote add upstream https://github.com/ORIGINAL_OWNER/sqlapp2.git

# バックエンド開発
./gradlew bootRun

# フロントエンド開発（別のターミナルで）
cd frontend
npm install
npm run dev
```

### テスト実行

```bash
# バックエンドテスト
./gradlew test

# フロントエンドテスト
cd frontend
npm test

# 統合テスト
./gradlew integrationTest
```

## 📝 コーディング標準

### Java/Spring Boot

- [Spring Bootベストプラクティス](https://docs.spring.io/spring-boot/docs/current/reference/html/)に従う
- 適切な例外処理を使用
- パブリックメソッドにJavaDocを含める
- 命名規則に従う：
  - クラス: `PascalCase`
  - メソッド: `camelCase`
  - 定数: `UPPER_SNAKE_CASE`
- パッケージ構造: `cherry.sqlapp2.*`

### TypeScript/React

- Reactフックを使用した関数型コンポーネントを使用
- TypeScriptストリクトモードに従う
- 適切な型付けを使用（`any`を避ける）
- 命名規則に従う：
  - コンポーネント: `PascalCase`
  - 変数/関数: `camelCase`
  - 定数: `UPPER_SNAKE_CASE`
- kebab-caseでCSSクラスを使用

### Gitコミットメッセージ

明確で説明的なコミットメッセージを使用：

```
feat: ユーザープロフィール管理を追加
fix: SQLインジェクション脆弱性を解決
docs: APIドキュメントを更新
style: prettierでコードをフォーマット
refactor: 接続プール処理を改善
test: 認証用単体テストを追加
chore: 依存関係を更新
```

### コードフォーマット

- **Java**: 内蔵IDE フォーマッターまたはCheckstyleを使用
- **TypeScript**: 提供された設定でPrettierを使用
- **CSS**: 一貫したインデント（2スペース）を使用

## 🧪 テストガイドライン

### バックエンドテスト

- サービスとユーティリティの単体テスト
- コントローラーの統合テスト
- 統合テストに`@SpringBootTest`を使用
- 外部依存関係をモック
- 成功とエラーの両方のシナリオをテスト

### フロントエンドテスト

- React Testing Libraryを使用したコンポーネントテスト
- ユーティリティ関数の単体テスト
- ユーザーワークフローの統合テスト
- アクセシビリティ機能をテスト

### テストカバレッジ

- 最低80%のテストカバレッジを維持
- 重要なビジネスロジックに焦点を当てる
- エッジケースとエラーハンドリングを含める

## 🏗️ アーキテクチャガイドライン

### バックエンドアーキテクチャ

- MVCパターンに従う
- 依存性注入を使用
- 適切な階層化を実装：
  - コントローラー（RESTエンドポイント）
  - サービス（ビジネスロジック）
  - リポジトリ（データアクセス）
  - エンティティ（データモデル）

### フロントエンドアーキテクチャ

- コンポーネントベースアーキテクチャ
- グローバル状態にReact Contextを使用
- コンポーネントを集約的で再利用可能に保つ
- UIロジックをビジネスロジックから分離

### データベース設計

- 内部H2データベースにJPAエンティティを使用
- データベース命名規則に従う
- 適切な制約と検証を含める
- スキーマの変更をドキュメント化

## 🔒 セキュリティ考慮事項

- 認証情報やシークレットをハードコードしない
- すべてのデータベース操作でパラメータ化クエリを使用
- すべてのユーザー入力を検証
- OWASPセキュリティガイドラインに従う
- 重要な機能にセキュリティテストを含める

## 📚 ドキュメント

- ユーザー向けの変更についてはREADME.mdを更新
- 新しいAPIにJavaDoc/JSDocを含める
- 機能の進捗についてはROADMAP.mdを更新
- 複雑な機能には例を追加

## 🔄 リリースプロセス

1. 機能は`main`ブランチにマージ
2. バージョンタグはセマンティックバージョニング（v1.0.0）に従う
3. リリースには変更ログと移行ノートを含める
4. Dockerイメージは自動的にビルドされる

## 🤔 質問がありますか？

- 既存の[課題](https://github.com/YOUR_USERNAME/sqlapp2/issues)を確認
- [ディスカッション](https://github.com/YOUR_USERNAME/sqlapp2/discussions)を開始
- [ドキュメント](docs/)をレビュー

## 📜 行動規範

このプロジェクトは[Contributor Covenant](https://www.contributor-covenant.org/)行動規範に従います。参加することで、この規範を守ることに同意したものとみなします。

## 🙏 認識

貢献者は以下で認識されます：

- README.mdの謝辞
- リリースノート
- プロジェクトドキュメント

SqlApp2への貢献をありがとうございます！🎉