########################################################################
#
# Copyright 2025 agwlvssainokuni
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
########################################################################
# Production Environment Configuration
########################################################################
# Logging
logging.level.root=WARN
logging.level.org.springframework=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.cherry.sqlapp2=INFO
########################################################################
# H2 Database Configuration
app.h2.database=file:./data/sqlapp2-production
spring.datasource.username=${H2_USERNAME}
spring.datasource.password=${H2_PASSWORD}
########################################################################
# HikariCP Connection Pool Configuration
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:10}
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL_SIZE:50}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.pool-name=SqlApp2HikariPool-Prod
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME:1800000}
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.validation-timeout=${HIKARI_VALIDATION_TIMEOUT:5000}
spring.datasource.hikari.leak-detection-threshold=${HIKARI_LEAK_DETECTION:60000}
########################################################################
# H2 Console (Disabled)
spring.h2.console.enabled=false
########################################################################
# JPA/Hibernate Configuration (Production)
spring.jpa.hibernate.ddl-auto=validate
########################################################################
# Spring DevTools (Disabled)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
########################################################################
# CORS Configuration (Strict)
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS}
app.cors.allowed-methods=GET,POST,PUT,DELETE
app.cors.allowed-headers=Content-Type,Authorization
app.cors.allow-credentials=true
########################################################################
# Security Configuration (Maximum Security)
app.security.csrf.enabled=false
app.security.require-https=true
app.security.frame-options=DENY
app.security.content-type-options=nosniff
app.security.xss-protection=1; mode=block
app.security.referrer-policy=strict-origin-when-cross-origin
app.security.strict-transport-security=max-age=31536000; includeSubDomains; preload
app.security.content-security-policy=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'
########################################################################
# Monitoring Configuration (Production)
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=when-authorized
management.metrics.distribution.percentiles-histogram.http.server.requests=false
management.metrics.distribution.percentiles.http.server.requests=0.95,0.99
management.tracing.sampling.probability=0.1
management.security.enabled=true
########################################################################
# JWT Configuration (Environment Variables Required)
app.jwt.secret=${JWT_SECRET}
app.jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:3600}
app.jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:86400}
app.jwt.refresh-token-sliding-expiration=false
########################################################################
# Encryption Configuration (Environment Variables Required)
app.encryption.key=${ENCRYPTION_KEY}
########################################################################
# Performance Configuration (Production)
app.sql.execution.timeout=${SQL_EXECUTION_TIMEOUT:300000}
app.sql.execution.max-rows=${SQL_EXECUTION_MAX_ROWS:1000}
app.sql.execution.default-page-size=${SQL_DEFAULT_PAGE_SIZE:25}
app.sql.execution.max-page-size=${SQL_MAX_PAGE_SIZE:100}
########################################################################
# Server Configuration (Production)
spring.lifecycle.timeout-per-shutdown-phase=30s
server.shutdown=graceful
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024
