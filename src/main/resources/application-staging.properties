########################################################################
# Staging Environment Configuration
########################################################################
# Spring Profile
spring.profiles.active=staging

# Logging (Staging)
logging.level.root=WARN
logging.level.org.springframework=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.cherry.sqlapp2=INFO

########################################################################
# H2 Database Configuration (Staging - File Based)
########################################################################
app.h2.database=file:./data/sqlapp2-staging
spring.datasource.url=jdbc:h2:${app.h2.database};DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE;CIPHER=AES
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=${H2_USERNAME:sqlapp2_user}
spring.datasource.password=${H2_PASSWORD:}

########################################################################
# H2 Console (Disabled in Staging)
########################################################################
spring.h2.console.enabled=false

########################################################################
# JPA/Hibernate Configuration (Staging)
########################################################################
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

########################################################################
# Spring DevTools (Disabled in Staging)
########################################################################
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

########################################################################
# CORS Configuration (Staging - Restricted)
########################################################################
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://staging.sqlapp2.example.com}
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=Content-Type,Authorization,X-Requested-With
app.cors.allow-credentials=true

########################################################################
# Security Configuration (Staging - Enhanced)
########################################################################
app.security.csrf.enabled=false
app.security.require-https=true
app.security.frame-options=DENY
app.security.content-type-options=nosniff
app.security.xss-protection=1; mode=block
app.security.referrer-policy=strict-origin-when-cross-origin

########################################################################
# JWT Configuration (Environment Variables)
########################################################################
app.jwt.secret=${JWT_SECRET:}
app.jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:1800}
app.jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:86400}
app.jwt.refresh-token-sliding-expiration=false

########################################################################
# Encryption Configuration (Environment Variables)
########################################################################
app.encryption.key=${ENCRYPTION_KEY:}

########################################################################
# Performance Configuration (Staging)
########################################################################
app.sql.execution.timeout=${SQL_EXECUTION_TIMEOUT:300000}
app.sql.execution.max-rows=${SQL_EXECUTION_MAX_ROWS:5000}
app.sql.execution.default-page-size=${SQL_DEFAULT_PAGE_SIZE:50}
app.sql.execution.max-page-size=${SQL_MAX_PAGE_SIZE:500}