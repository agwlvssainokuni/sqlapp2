########################################################################
#
# Copyright 2025 agwlvssainokuni
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
########################################################################
# Staging Environment Configuration
########################################################################
# Logging
logging.level.root=WARN
logging.level.org.springframework=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.cherry.sqlapp2=INFO
########################################################################
# H2 Database Configuration
app.h2.database=file:./data/sqlapp2-staging
spring.datasource.username=${H2_USERNAME:sqlapp2_user}
spring.datasource.password=${H2_PASSWORD:}
########################################################################
# HikariCP Connection Pool Configuration
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:10}
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL_SIZE:50}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.pool-name=SqlApp2HikariPool-Prod
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME:1800000}
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.validation-timeout=${HIKARI_VALIDATION_TIMEOUT:5000}
spring.datasource.hikari.leak-detection-threshold=${HIKARI_LEAK_DETECTION:60000}
########################################################################
# H2 Console (Disabled)
spring.h2.console.enabled=false
########################################################################
# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
########################################################################
# Spring DevTools (Disabled)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
########################################################################
# CORS Configuration (Restricted)
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://staging.sqlapp2.example.com}
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=Content-Type,Authorization,X-Requested-With
app.cors.allow-credentials=true
########################################################################
# Security Configuration (Enhanced)
app.security.csrf.enabled=false
app.security.require-https=true
app.security.frame-options=DENY
app.security.content-type-options=nosniff
app.security.xss-protection=1; mode=block
app.security.referrer-policy=strict-origin-when-cross-origin
########################################################################
# JWT Configuration (Environment Variables)
app.jwt.secret=${JWT_SECRET:mySecretKey1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890}
app.jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:1800}
app.jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:86400}
app.jwt.refresh-token-sliding-expiration=false
########################################################################
# Encryption Configuration (Environment Variables)
app.encryption.key=${ENCRYPTION_KEY:TestAESKeyThatMustBeExactly32CharsForAES256=}
########################################################################
# Performance Configuration (Staging)
app.sql.execution.timeout=${SQL_EXECUTION_TIMEOUT:300000}
app.sql.execution.max-rows=${SQL_EXECUTION_MAX_ROWS:5000}
app.sql.execution.default-page-size=${SQL_DEFAULT_PAGE_SIZE:50}
app.sql.execution.max-page-size=${SQL_MAX_PAGE_SIZE:500}
